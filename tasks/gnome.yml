- name: Install GNOME Tweaks
  become: true
  package:
    name: gnome-tweaks
    state: present
  tags:
    - gnome

- name: Install GNOME Extensions
  become: true
  package:
    name: gnome-shell-extension-prefs
    state: present
  tags:
    - gnome

- name: Install pipx
  become: true
  package:
    name: python3-pip
    state: present
  tags:
    - gnome-extensions

- name: Install gnome-extensions-cli
  pipx:
    name: gnome-extensions-cli
    state: present
    user: "{{ ansible_user_id }}"
  tags:
    - gnome-extensions

- name: Enable required GNOME Shell extensions
  command: gnome-extensions enable "{{ item }}"
  loop:
    - appindicatorsupport@rgcjonas.gmail.com
    - hidetopbar@mathieu.bidon.ca
    - bluetooth-battery@michalw.github.com
    - nepali-date@biplab
    - clipboard-history@alexsaveau.dev
    - no-overview@fthx
    - dash-to-dock@micxgx.gmail.com
    - notification-banner-reloaded@marcinjakubowski.github.com
    - gestureImprovements@gestures
    - user-theme@gnome-shell-extensions.gcampax.github.com
    - grand-theft-focus@zalckos.github.com
  tags:
    - gnome-extensions
